@inherits umbraco.MacroEngines.DynamicNodeContext
@{ 
	var children = @Model.AncestorOrSelf(1).Pages.Where("umbracoNaviHide=false");
}
<ul>
@foreach (var child in children)
{
    <li>
        <a href="@child.Url">@child.Name</a>
    </li>
}
</ul>